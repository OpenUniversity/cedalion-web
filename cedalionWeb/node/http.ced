annotation:shrink('/bootstrap':signature(http(Method,URL,ReqHeaders,ReqContent,ResStatus,ResHeaders,ResContent)::'/javascript/statepred':statePred,annotation:changeMode([Method::'/bootstrap':string,URL::'/javascript/statepred':stateExpr('/bootstrap':string),ReqHeaders::'/javascript/jsLogic':jsExpr,ReqContent::'/javascript/statepred':stateExpr('/bootstrap':string),ResStatus::'/bootstrap':number,ResHeaders::'/javascript/jsLogic':jsExpr,ResContent::'/bootstrap':string],'/bootstrap':vert))).
annotation:shrink('/bootstrap':projection(http(Method,URL,ReqHeaders,ReqContent,ResStatus,ResHeaders,ResContent)::'/javascript/statepred':statePred,'/bootstrap':vert(['/bootstrap':horiz(['/bootstrap':vis(Method::'/bootstrap':string),'/bootstrap':vis(URL::'/javascript/statepred':stateExpr('/bootstrap':string))]),'/bootstrap':vis(ReqHeaders::'/javascript/jsLogic':jsExpr),'/bootstrap':vis(ReqContent::'/javascript/statepred':stateExpr('/bootstrap':string)),'/bootstrap':horiz(['/bootstrap':label(!'emits status'),'/bootstrap':vis(ResStatus::'/bootstrap':number),'/bootstrap':label(!headers),'/bootstrap':vis(ResHeaders::'/javascript/jsLogic':jsExpr),'/bootstrap':label(!'and content'),'/bootstrap':vis(ResContent::'/bootstrap':string)])]))).
'/bootstrap':defAtom(require::'/javascript':symbol).
'/javascript/statepred':def(http(Method,URL,ReqHeaders,ReqContent,ResStatus,ResHeaders,ResContent),Action,Finally,'/javascript/jsLogic':jsCommand(['/javascript/jsLogic':runProcedure('/javascript/statepred':frame(!http,'/javascript/jsLogic':jsCommand(['/javascript':var(HTTP,'/javascript':call('/javascript':varExpr(require),['/javascript':str(!http)])),'/javascript/jsLogic':runProcedure('/javascript/statepred':whenever('/javascript/statepred':conj('/javascript/statepred':stateEval(URL,'/bootstrap':string,URLPrime),'/javascript/statepred':stateEval(ReqContent,'/bootstrap':string,ReqContentPrime)),'/javascript/jsLogic':jsCommand(['/javascript/jsLogic':runProcedure('/javascript/statepred':trace('/javascript/statepred':expr('/Functional':applyBinOp('/Functional':const(!'URL:'),'/Functional':concat,'/Functional':const(URLPrime))))),'/javascript':var(Options,'/javascript':call('/javascript':dot('/javascript':call('/javascript':varExpr(require),['/javascript':str(!url)]),!parse),['/javascript/jsLogic':inlineTerm(URLPrime::'/bootstrap':string)])),'/javascript':assign('/javascript':dot('/javascript':varExpr(Options),!method),'/javascript/jsLogic':inlineTerm(Method::'/bootstrap':string)),'/javascript':assign('/javascript':dot('/javascript':varExpr(Options),!headers),'/javascript/jsLogic':inlineTerm(ReqHeaders::'/javascript/jsLogic':jsExpr)),'/javascript':var(Handler,'/javascript/statepred':async('/javascript':function([Response],['/javascript/jsLogic':runProcedure('/javascript/statepred':trace('/javascript/statepred':expr('/Functional':const(!'Received response')))),'/javascript/jsLogic':runProcedure('/javascript/statepred':whenever('/javascript/statepred':conj(streamContent('/javascript/jsLogic':jsExpr('/javascript':varExpr(Response)),ResContent),'/javascript/statepred':conj('/javascript/statepred':pred(ResStatus::'/bootstrap':number='/javascript/jsLogic':jsExpr('/javascript':dot('/javascript':varExpr(Response),!statusCode))::'/bootstrap':number),'/javascript/statepred':pred(ResHeaders::'/javascript/jsLogic':jsExpr='/javascript/jsLogic':jsExpr('/javascript':dot('/javascript':varExpr(Response),!headers))::'/javascript/jsLogic':jsExpr))),'/javascript/jsLogic':jsCommand(['/javascript/jsLogic':runProcedure('/javascript/statepred':trace('/javascript/statepred':expr('/Functional':const(!'Running Action')))),'/javascript/jsLogic':runProcedure('/javascript/jsLogic':do(Action))]),'/javascript/jsLogic':jsCommand(['/javascript/jsLogic':runProcedure('/javascript/jsLogic':do(Finally))])))]))),'/javascript':var(Request,'/javascript':call('/javascript':dot('/javascript':varExpr(HTTP),!request),['/javascript':varExpr(Options),'/javascript':varExpr(Handler)])),'/javascript':exprStatement('/javascript':call('/javascript':dot('/javascript':varExpr(Request),!end),['/javascript/jsLogic':inlineTerm(ReqContentPrime::'/bootstrap':string)])),'/javascript':exprStatement('/javascript':call('/javascript':dot('/javascript':varExpr(Request),!on),['/javascript':str(!error),annotation:shrink('/javascript':function([E],['/javascript/jsLogic':runProcedure('/javascript/jsLogic':throw(connectionError('/javascript/jsLogic':jsExpr('/javascript':call('/javascript':dot('/javascript':varExpr(E),!toString),[]))))),'/javascript/jsLogic':runProcedure('/javascript/jsLogic':do(Finally))]))]))])))])))])).
