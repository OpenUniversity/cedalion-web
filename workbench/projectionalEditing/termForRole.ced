'/bootstrap':sigProj(termForRole(Role,Model,TTerm,Depth)::'/javascript/statepred':statePred,[Role::'/bootstrap':string,Model::'/javascript/jsLogic':jsExpr,TTerm::'/bootstrap':typedTerm,Depth::'/bootstrap':number],'/bootstrap':horiz(['/bootstrap':label(!model),'/bootstrap':vis(Model::'/javascript/jsLogic':jsExpr),'/bootstrap':label(!'contains term'),'/bootstrap':vis(TTerm::'/bootstrap':typedTerm),'/bootstrap':label(!under),'/bootstrap':vis(Role::'/bootstrap':string),'/bootstrap':label(!'extracted up to depth'),'/bootstrap':vis(Depth::'/bootstrap':number)])).
'/bootstrap':signature(inferType(TTerm)::'/bootstrap':pred,[TTerm::'/bootstrap':typedTerm]).
inferType(Term::Type):-builtin:if(builtin:number(Term::Type),Type::'/bootstrap':type='/bootstrap':number::'/bootstrap':type,builtin:if(builtin:string(Term::Type),Type::'/bootstrap':type='/bootstrap':string::'/bootstrap':type,builtin:if(annotation:parentheses((builtin:compound(Term::Type),'/bootstrap':checkSignature(Term::Type,_))),builtin:true,builtin:true))).
'/javascript/statepred':def(termForRole(Role,Model,TTerm,Depth),Action,Finally,'/javascript/jsLogic':jsCommand(['/javascript':var(CreateTerm,'/javascript':str(!'STUB')),'/javascript':assign('/javascript':varExpr(CreateTerm),'/javascript':function([UUID,DepthPrime],['/javascript':if('/javascript':op('/javascript':varExpr(DepthPrime),'/javascript':eq,'/javascript':const(0)),['/javascript':return('/javascript/jsLogic':inlineTerm(('/javascript/jsLogic':jsExpr('/javascript':new('/javascript':call('/javascript':varExpr('/cedalionWeb':'Variable'),[])))::'/javascript/jsLogic':jsExpr('/javascript':new('/javascript':call('/javascript':varExpr('/cedalionWeb':'Variable'),[]))))::'/bootstrap':typedTerm))],[]),'/javascript':var(Content,'/javascript':arrayElement('/javascript/jsLogic':inlineTerm(Model::'/javascript/jsLogic':jsExpr),'/javascript':varExpr(UUID))),'/javascript':var(Result,'/javascript':str(!'No Result')),'/javascript/jsLogic':runProcedure('/javascript/jsLogic':foreach('/javascript/jsLogic':jsExpr('/javascript':varExpr(Content))::termDescriptor=string(S)::termDescriptor,'/javascript/jsLogic':jsCommand(['/javascript':assign('/javascript':varExpr(Result),'/javascript/jsLogic':inlineTerm((S::'/bootstrap':string)::'/bootstrap':typedTerm))]))),'/javascript/jsLogic':runProcedure('/javascript/jsLogic':foreach('/javascript/jsLogic':jsExpr('/javascript':varExpr(Content))::termDescriptor=number(N)::termDescriptor,'/javascript/jsLogic':jsCommand(['/javascript':assign('/javascript':varExpr(Result),'/javascript/jsLogic':inlineTerm((N::'/bootstrap':number)::'/bootstrap':typedTerm))]))),'/javascript':var(UUIDPrimePrime,'/javascript':str(!'')),'/javascript/jsLogic':runProcedure('/javascript/jsLogic':foreach('/javascript/jsLogic':jsExpr('/javascript':varExpr(Content))::termDescriptor=uuidLink(UUIDPrime)::termDescriptor,'/javascript/jsLogic':jsCommand(['/javascript':assign('/javascript':varExpr(UUIDPrimePrime),'/javascript/jsLogic':inlineTerm(UUIDPrime::'/bootstrap':string))]))),'/javascript':if('/javascript':op('/javascript':varExpr(UUIDPrimePrime),'/javascript':ne,'/javascript':str(!'')),['/javascript':assign('/javascript':varExpr(Result),'/javascript':call('/javascript':varExpr(CreateTerm),['/javascript':varExpr(UUIDPrimePrime),'/javascript':varExpr(DepthPrime)]))],[]),'/javascript':var(ArityPrime,'/javascript':const(-1)),'/javascript':var(Term,'/javascript':array([])),'/javascript':var(TypePrime,'/javascript/jsLogic':null),'/javascript/jsLogic':runProcedure('/javascript/jsLogic':foreach(('/javascript/jsLogic':jsExpr('/javascript':varExpr(Content))::termDescriptor=compound(Name,Arity,SatType)::termDescriptor,unsaturate(SatType::'/bootstrap':type,Type::'/bootstrap':type)),'/javascript/jsLogic':jsCommand(['/javascript':exprStatement('/javascript':call('/javascript':dot('/javascript':varExpr(Term),!push),['/javascript/jsLogic':inlineTerm(Name::'/bootstrap':string)])),'/javascript':assign('/javascript':varExpr(ArityPrime),'/javascript/jsLogic':inlineTerm(Arity::'/bootstrap':number)),'/javascript':assign('/javascript':varExpr(TypePrime),'/javascript/jsLogic':inlineTerm(Type::'/bootstrap':type))]))),'/javascript':if('/javascript':op('/javascript':varExpr(ArityPrime),'/javascript':gte,'/javascript':const(0)),['/javascript':var(I,'/javascript':const(0)),'/javascript':while('/javascript':op('/javascript':varExpr(I),'/javascript':lt,'/javascript':varExpr(ArityPrime)),['/javascript':var(RolePrime,'/javascript':op('/javascript':varExpr(UUID),'/javascript':plus,'/javascript':op('/javascript':str(! (-)),'/javascript':plus,'/javascript':call('/javascript':dot('/javascript':varExpr('String'),!fromCharCode),['/javascript':op('/javascript':const(65),'/javascript':plus,'/javascript':varExpr(I))])))),'/javascript':if('/javascript':arrayElement('/javascript/jsLogic':inlineTerm(Model::'/javascript/jsLogic':jsExpr),'/javascript':varExpr(RolePrime)),['/javascript':exprStatement('/javascript':call('/javascript':dot('/javascript':varExpr(Term),!push),['/javascript':arrayElement('/javascript':call('/javascript':varExpr(CreateTerm),['/javascript':dot('/javascript':arrayElement('/javascript/jsLogic':inlineTerm(Model::'/javascript/jsLogic':jsExpr),'/javascript':varExpr(RolePrime)),!v),'/javascript':op('/javascript':varExpr(DepthPrime),'/javascript':minus,'/javascript':const(1))]),'/javascript':const(1))]))],['/javascript':exprStatement('/javascript':call('/javascript':dot('/javascript':varExpr(Term),!push),['/javascript':arrayElement('/javascript':call('/javascript':varExpr(CreateTerm),['/javascript':op('/javascript':varExpr(UUID),'/javascript':plus,'/javascript':call('/javascript':dot('/javascript':varExpr('String'),!fromCharCode),['/javascript':op('/javascript':const(65),'/javascript':plus,'/javascript':varExpr(I))])),'/javascript':op('/javascript':varExpr(DepthPrime),'/javascript':minus,'/javascript':const(1))]),'/javascript':const(1))]))]),'/javascript':assign('/javascript':varExpr(I),'/javascript':op('/javascript':varExpr(I),'/javascript':plus,'/javascript':const(1)))]),'/javascript':assign('/javascript':varExpr(Result),'/javascript/jsLogic':inlineTerm(('/javascript/jsLogic':jsExpr('/javascript':varExpr(Term))::'/javascript/jsLogic':jsExpr('/javascript':varExpr(TypePrime)))::'/bootstrap':typedTerm))],[]),'/javascript':return('/javascript':varExpr(Result))])),'/javascript/jsLogic':runProcedure('/javascript/asyncproc':andThen('/javascript/statepred':'for (s)'(roleToUUID(Role,Model,MainUUID),'/javascript/jsLogic':jsCommand(['/javascript/jsLogic':runProcedure('/javascript/jsLogic':foreach((TTerm='/javascript/jsLogic':jsExpr('/javascript':call('/javascript':varExpr(CreateTerm),['/javascript/jsLogic':inlineTerm(MainUUID::'/bootstrap':string),'/javascript/jsLogic':inlineTerm(Depth::'/bootstrap':number)])),inferType(TTerm)),Action))])),'/javascript/jsLogic':do(Finally)))])).
annotation:shrink('/bootstrap':disabled('/javascript/statepred':clause(termForRole(Role,Model,TTerm,Depth),'/javascript/statepred':conj(roleToUUID(Role,Model,UUID),'/javascript/statepred':if('/javascript/statepred':pred(Depth::'/bootstrap':number=0::'/bootstrap':number),'/javascript/statepred':pred(TTerm=_::_),'/javascript/statepred':conj(uuidContent(UUID,Model,Content),'/javascript/statepred':conj('/javascript/statepred':pred(builtin:succ(DepthPrime,Depth)),termForContent(Content,Model,UUID,TTerm,DepthPrime)))))))).
'/bootstrap':signature(uuidContent(UUID,Model,Content)::'/javascript/statepred':statePred,[UUID::'/bootstrap':string,Model::'/javascript/jsLogic':jsExpr,Content::termDescriptor]).
'/javascript/statepred':def(uuidContent(UUID,Model,Content),Action,Finally,'/javascript/jsLogic':jsCommand(['/javascript/jsLogic':runProcedure('/javascript/jsLogic':foreach(Content::termDescriptor='/javascript/jsLogic':jsExpr('/javascript':arrayElement('/javascript/jsLogic':inlineTerm(Model::'/javascript/jsLogic':jsExpr),'/javascript/jsLogic':inlineTerm(UUID::'/bootstrap':string)))::termDescriptor,Action)),'/javascript/jsLogic':runProcedure('/javascript/jsLogic':do(Finally))])).
'/bootstrap':signature(termForContent(Content,Model,UUID,TTerm,Depth)::'/javascript/statepred':statePred,[Content::termDescriptor,Model::'/javascript/jsLogic':jsExpr,UUID::'/bootstrap':string,TTerm::'/bootstrap':typedTerm,Depth::'/bootstrap':number]).
'/javascript/statepred':clause(termForContent(number(Num),_,_,Num::'/bootstrap':number,_),'/javascript/statepred':pred(builtin:true)).
'/javascript/statepred':clause(termForContent(string(Str),_,_,Str::'/bootstrap':string,_),'/javascript/statepred':pred(builtin:true)).
'/javascript/statepred':clause(termForContent(compound(Name,Arity,Type),Model,UUID,Term::Type,Depth),'/javascript/statepred':conj(termsForChildren(Model,UUID,65,Arity,Args,Depth),'/javascript/statepred':pred(builtin:parseTerm(Term::Type,Name,Args)))).
'/javascript/statepred':clause(termForContent(uuidLink(UUID),Model,_,TTerm,Depth),'/javascript/statepred':conj(uuidContent(UUID,Model,Content),termForContent(Content,Model,UUID,TTerm,Depth))).
annotation:shrink('/bootstrap':signature(termsForChildren(Model,UUID,Code,Count,Args,Depth)::'/javascript/statepred':statePred,[Model::'/javascript/jsLogic':jsExpr,UUID::'/bootstrap':string,Code::'/bootstrap':number,Count::'/bootstrap':number,Args::'/bootstrap':list('/bootstrap':typedTerm),Depth::'/bootstrap':number])).
'/javascript/statepred':clause(termsForChildren(_,_,_,0,[],_),'/javascript/statepred':pred(builtin:true)).
annotation:shrink('/javascript/statepred':clause(termsForChildren(Model,UUID,Code,Count,[Arg|Args],Depth),'/javascript/statepred':conj('/javascript/statepred':pred(builtin:greaterThen(Count,0)),'/javascript/statepred':conj('/javascript/statepred':pred('/Functional':eval('/Functional':applyBinOp('/Functional':const(UUID),'/Functional':concat,'/Functional':applyBinOp('/Functional':const(! (-)),'/Functional':concat,charForCode('/Functional':const(Code)))),'/bootstrap':string,Role)),'/javascript/statepred':conj(termForRole(Role,Model,Arg,Depth),'/javascript/statepred':conj('/javascript/statepred':pred(builtin:succ(Code,NewCode)),'/javascript/statepred':conj('/javascript/statepred':pred(builtin:succ(CountPrime,Count)),termsForChildren(Model,UUID,NewCode,CountPrime,Args,Depth)))))))).
'/bootstrap':signature(charForCode(Code)::'/Functional':expr('/bootstrap':string),[Code::'/Functional':expr('/bootstrap':number)]).
'/Functional':def(charForCode(Code),'/bootstrap':string,'/Functional':where('/Functional':const(Char), ('/Functional':eval(Code,'/bootstrap':number,CodePrime),builtin:charCodes(Char,[CodePrime])))).
