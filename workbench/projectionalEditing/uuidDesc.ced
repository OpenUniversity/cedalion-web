'/bootstrap':defAtom(termMap::'/bootstrap':type).
'/bootstrap':signature(uuidDesc(Term,UUID,Role,Model,Features,Counter)::Type,[Term::Type,UUID::'/bootstrap':string,Role::'/bootstrap':string,Model::'/javascript/jsLogic':jsExpr,Features::'/bootstrap':set(feature),Counter::'/javascript/jsLogic':jsExpr]).
'/bootstrap':isDescriptor(uuidDesc(Term,UUID,Role,Model,Features,Counter)::Type):-builtin:true.
'/bootstrap':descriptorContent(uuidDesc(Term,UUID,Role,Model,Features,Counter)::Type,Term::Type,[]):-builtin:true.
annotation:shrink('/bootstrap':signature(propagateUuidDescriptor(Args,UUID,Code,Model,Features,Counter,PropArgs)::'/bootstrap':pred,[Args::'/bootstrap':list('/bootstrap':typedTerm),UUID::'/bootstrap':string,Code::'/bootstrap':number,Model::'/javascript/jsLogic':jsExpr,Features::'/bootstrap':set(feature),Counter::'/javascript/jsLogic':jsExpr,PropArgs::'/bootstrap':list('/bootstrap':typedTerm)])).
annotation:shrink((propagateUuidDescriptor([],_,_,_,_,_,[]):-builtin:true)).
annotation:shrink((propagateUuidDescriptor([Arg::Type|TArgs],UUID,Code,Model,Features,Counter,[uuidDesc(Arg,ChildUUID,ChildRole,Model,Features,Counter)::Type|PropArgs]):-builtin:charCodes(RoleChar,[Code]),'/Functional':eval('/Functional':applyBinOp('/Functional':const(UUID),'/Functional':concat,'/Functional':const(RoleChar)),'/bootstrap':string,ChildUUID),'/Functional':eval('/Functional':applyBinOp('/Functional':const(UUID),'/Functional':concat,'/Functional':applyBinOp('/Functional':const(! (-)),'/Functional':concat,'/Functional':const(RoleChar))),'/bootstrap':string,ChildRole),builtin:succ(Code,NextCode),propagateUuidDescriptor(TArgs,UUID,NextCode,Model,Features,Counter,PropArgs))).
annotation:shrink(('/cedalionWeb/visualization':propagateDescriptor(uuidDesc(Term,UUID,Role,Model,Features,Counter)::Type,PropDesc::Type,[]):-builtin:if(builtin:compound(Term::Type), ('/bootstrap':safeParseTerm(Term::Type,Name,Args),propagateUuidDescriptor(Args,UUID,65,Model,Features,Counter,PropArgs),builtin:parseTerm(PropDesc::Type,Name,PropArgs)),PropDesc::Type=Term::Type))).
'/javascript/jsLogic':procedure('/cedalionWeb/visualization':bind(uuidDesc(Term,UUID,Role,Model,Features,Counter)::Type,Elem,Mode),'/javascript/jsLogic':jsCommand(['/javascript':if('/javascript':op('/javascript/jsLogic':inlineTerm(Role::'/bootstrap':string),'/javascript':ne,'/javascript':str(!'')),['/javascript/jsLogic':runProcedure('/javascript/asyncproc':andThen('/javascript/statepred':'for (s)'(roleToUUID(Role,Model,NewUUID),'/javascript/jsLogic':jsCommand(['/javascript':var(Reuse,'/javascript':call('/javascript':varExpr('/javascript/jsLogic':jQuery),['/javascript':op('/javascript':op('/javascript':op('/javascript':op('/javascript':op('/javascript':op('/javascript':str(!'#'),'/javascript':plus,'/javascript':dot('/javascript/jsLogic':inlineTerm(Counter::'/javascript/jsLogic':jsExpr),!recycleBin)),'/javascript':plus,'/javascript':str(!' [ced_uuid="')),'/javascript':plus,'/javascript/jsLogic':inlineTerm(NewUUID::'/bootstrap':string)),'/javascript':plus,'/javascript':str(!'"][ced_mode="')),'/javascript':plus,'/javascript':call('/javascript':dot('/javascript/jsLogic':inlineTerm(Mode::'/bootstrap':mode),!toString),[])),'/javascript':plus,'/javascript':str(!'"]'))])),'/javascript':if('/javascript':op('/javascript':dot('/javascript':varExpr(Reuse),!length),'/javascript':gt,'/javascript':const(0)),['/javascript':exprStatement('/javascript':call('/javascript':dot('/javascript/jsLogic':inlineTerm(Elem::'/cedalionWeb/visualization':jQueryElem),!replaceWith),['/javascript':call('/javascript':dot('/javascript':varExpr(Reuse),!first),[])])),'/javascript':exprStatement('/javascript':call('/javascript':dot('/javascript':call('/javascript':varExpr('/javascript/jsLogic':jQuery),['/javascript':op('/javascript':str(!'[ced_uuid="'),'/javascript':plus,'/javascript':op('/javascript/jsLogic':inlineTerm(NewUUID::'/bootstrap':string),'/javascript':plus,'/javascript':str(!'"]')))]),!attr),['/javascript':str(!ced_role),'/javascript/jsLogic':inlineTerm(Role::'/bootstrap':string)]))],['/javascript':assign('/javascript':dot('/javascript/jsLogic':inlineTerm(Counter::'/javascript/jsLogic':jsExpr),!counter),'/javascript':op('/javascript':dot('/javascript/jsLogic':inlineTerm(Counter::'/javascript/jsLogic':jsExpr),!counter),'/javascript':plus,'/javascript':const(1))),'/javascript/jsLogic':runProcedure('/javascript/asyncproc':andThen('/javascript/asyncproc':wait(1),'/javascript/asyncproc':andThen('/javascript/statepred':'for (s)'(instantiateUpToNeededDepth(Model,Role,TermPrime::Type),'/javascript/jsLogic':jsCommand(['/javascript/jsLogic':runProcedure('/cedalionWeb/jquery':replaceWith(Elem,'/cedalionWeb/visualization':toHTML(cpi:vis(uuidDesc(TermPrime,NewUUID,!'',Model,Features,Counter)::Type,Mode))))])),'/javascript/jsLogic':do('/javascript/jsLogic':jsCommand(['/javascript':exprStatement('/javascript':call('/javascript':dot('/javascript':call('/javascript':varExpr('/javascript/jsLogic':jQuery),['/javascript':op('/javascript':str(!'[ced_uuid="'),'/javascript':plus,'/javascript':op('/javascript/jsLogic':inlineTerm(NewUUID::'/bootstrap':string),'/javascript':plus,'/javascript':str(!'"]')))]),!attr),['/javascript':str(!ced_role),'/javascript/jsLogic':inlineTerm(Role::'/bootstrap':string)])),'/javascript':assign('/javascript':dot('/javascript/jsLogic':inlineTerm(Counter::'/javascript/jsLogic':jsExpr),!counter),'/javascript':op('/javascript':dot('/javascript/jsLogic':inlineTerm(Counter::'/javascript/jsLogic':jsExpr),!counter),'/javascript':minus,'/javascript':const(1))),'/javascript':if('/javascript':op('/javascript':dot('/javascript/jsLogic':inlineTerm(Counter::'/javascript/jsLogic':jsExpr),!counter),'/javascript':eq,'/javascript':const(0)),['/javascript':exprStatement('/javascript':call('/javascript':dot('/javascript/jsLogic':inlineTerm(Counter::'/javascript/jsLogic':jsExpr),!callback),[]))],[])])))))])])),'/javascript/jsLogic':do('/javascript/jsLogic':jsCommand([]))))],['/javascript':exprStatement('/javascript':call('/javascript':dot('/javascript':call('/javascript':dot('/javascript/jsLogic':inlineTerm(Elem::'/cedalionWeb/visualization':jQueryElem),!attr),['/javascript':str(!ced_uuid),'/javascript/jsLogic':inlineTerm(UUID::'/bootstrap':string)]),!attr),['/javascript':str(!ced_mode),'/javascript':call('/javascript':dot('/javascript/jsLogic':inlineTerm(Mode::'/bootstrap':mode),!toString),[])])),'/javascript':exprStatement('/javascript':call('/javascript':dot('/javascript':call('/javascript':dot('/javascript/jsLogic':inlineTerm(Elem::'/cedalionWeb/visualization':jQueryElem),!data),['/javascript':str(!ced_features),'/javascript/jsLogic':inlineTerm(Features::'/bootstrap':set(feature))]),!data),['/javascript':str(!ced_mode),'/javascript/jsLogic':inlineTerm(Mode::'/bootstrap':mode)])),'/javascript/jsLogic':runProcedure('/javascript/jsLogic':foreach('/bootstrap':member(Feature,Features,feature),'/javascript/jsLogic':jsCommand(['/javascript/jsLogic':runProcedure(bindFeature(Feature,Elem))])))])])).
'/bootstrap':signature(viewUpdated(Model,Role,UUID,Elem)::'/javascript/jsLogic':procedure,[Model::'/javascript/jsLogic':jsExpr,Role::'/bootstrap':string,UUID::'/bootstrap':string,Elem::'/cedalionWeb/visualization':jQueryElem]).
'/javascript/jsLogic':procedure(modelUpdated(Model,Role,UUID,_),'/javascript/jsLogic':jsCommand(['/javascript':var(UpdateView,'/javascript':function([],['/javascript':var(Elem,'/javascript':call('/javascript':varExpr('/javascript/jsLogic':jQuery),['/cedalionWeb/visualization':this])),'/javascript':var(ID,'/javascript':op('/javascript':call('/javascript':dot('/javascript':varExpr('/javascript/statepred':'Math'),!floor),['/javascript':op('/javascript':call('/javascript':dot('/javascript':varExpr('/javascript/statepred':'Math'),!random),[]),'/javascript':times,'/javascript':const(1000000000))]),'/javascript':plus,'/javascript':str(!''))),'/javascript':exprStatement('/javascript':call('/javascript':dot('/javascript':varExpr(Elem),!wrap),['/javascript':op('/javascript':op('/javascript':str(!'<div class="hidden" id="'),'/javascript':plus,'/javascript':varExpr(ID)),'/javascript':plus,'/javascript':str(!'"/>'))])),'/javascript':var(Counter,'/javascript':json(annotation:changeMode(['/javascript':bind('/javascript':str(!counter),'/javascript':const(0)),'/javascript':bind('/javascript':str(!callback),'/javascript/statepred':async('/javascript':function([],['/javascript':var(NewElem,'/javascript':call('/javascript':dot('/javascript':call('/javascript':varExpr('/javascript/jsLogic':jQuery),['/javascript':op('/javascript':str(!'#'),'/javascript':plus,'/javascript':varExpr(ID))]),!next),[])),'/javascript':exprStatement('/javascript':call('/javascript':dot('/javascript':call('/javascript':varExpr('/javascript/jsLogic':jQuery),['/javascript':op('/javascript':str(!'#'),'/javascript':plus,'/javascript':varExpr(ID))]),!remove),[])),'/javascript/jsLogic':runProcedure(viewUpdated(Model,Role,UUID,'/javascript/jsLogic':jsExpr('/javascript':varExpr(NewElem))))]))),'/javascript':bind('/javascript':str(!recycleBin),'/javascript':varExpr(ID))],'/bootstrap':vert))),'/javascript/jsLogic':runProcedure(annotation:shrink('/cedalionWeb/jquery':modifyElement(!after,'/javascript/jsLogic':jsExpr('/javascript':call('/javascript':varExpr('/javascript/jsLogic':jQuery),['/javascript':op('/javascript':str(!'#'),'/javascript':plus,'/javascript':varExpr(ID))])),'/cedalionWeb/visualization':toHTML(cpi:vis(uuidDesc(_,UUID,Role,Model,'/javascript/jsLogic':jsExpr('/javascript':call('/javascript':dot('/javascript':varExpr(Elem),!data),['/javascript':str(!ced_features)])),'/javascript/jsLogic':jsExpr('/javascript':varExpr(Counter)))::_,'/javascript/jsLogic':jsExpr('/javascript':call('/javascript':dot('/javascript':varExpr(Elem),!data),['/javascript':str(!ced_mode)])))))))])),'/javascript':exprStatement('/javascript':call('/javascript':dot('/javascript':call('/javascript':varExpr('/javascript/jsLogic':jQuery),['/javascript':op('/javascript':op('/javascript':str(!'[ced_role="'),'/javascript':plus,'/javascript/jsLogic':inlineTerm(Role::'/bootstrap':string)),'/javascript':plus,'/javascript':str(!'"]'))]),!each),['/javascript':varExpr(UpdateView)]))])).
'/bootstrap':signature(instantiateUpToNeededDepth(Model,Role,TTerm)::'/javascript/statepred':statePred,[Model::'/javascript/jsLogic':jsExpr,Role::'/bootstrap':string,TTerm::'/bootstrap':typedTerm]).
'/bootstrap':projection(instantiateUpToNeededDepth(Model,Role,TTerm)::'/javascript/statepred':statePred,'/bootstrap':horiz(['/bootstrap':label(!'instantiate role'),'/bootstrap':vis(Role::'/bootstrap':string),'/bootstrap':label(!'of model'),'/bootstrap':vis(Model::'/javascript/jsLogic':jsExpr),'/bootstrap':label(!into),'/bootstrap':vis(TTerm::'/bootstrap':typedTerm),'/bootstrap':label(!'up to the needed depth')])).
'/javascript/statepred':clause(instantiateUpToNeededDepth(Model,Role,TTerm),'/javascript/statepred':conj(termForRole(Role,Model,TTerm,1),'/javascript/statepred':if('/javascript/statepred':pred(neededDepthForProjection(TTerm,Depth)),'/javascript/statepred':conj('/javascript/statepred':pred(neededDepthForProjection(TTerm,Depth)),termForRole(Role,Model,TTerm,Depth)),'/javascript/statepred':pred(builtin:true)))).
'/javascript/jsLogic':procedure(viewUpdated(Model,Role,UUID,Elem),'/javascript/jsLogic':jsCommand(['/javascript':exprStatement('/javascript':call('/javascript':varExpr('/cedalionWeb/jquery':setTimeout),['/javascript/statepred':async('/javascript':function([],['/javascript':exprStatement('/javascript':call('/javascript':dot('/javascript':call('/javascript':dot('/javascript':call('/javascript':varExpr('/javascript/jsLogic':jQuery),['/javascript':op('/javascript':op('/javascript':str(!'[ced_role="'),'/javascript':plus,'/javascript/jsLogic':inlineTerm(Role::'/bootstrap':string)),'/javascript':plus,'/javascript':str(!'"]'))]),!first),[]),!click),[]))])),'/javascript':const(0)]))])).
