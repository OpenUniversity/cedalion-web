'/bootstrap':signature(displayURL(Role)::'/workbench/projectionalEditing':editingCommand,[Role::'/bootstrap':string]).
'/javascript/asyncproc':procDef('/workbench/projectionalEditing':applyEditingCommand('/workbench/projectionalEditing':displayURL(Role),Model),'/javascript/statepred':'for (s)'('/cedalionWeb/url':browserURL('/cedalionWeb/url':url(HTTP,Domain,Path,Query,_)),'/javascript/jsLogic':jsCommand(['/javascript/jsLogic':runProcedure('/javascript/jsLogic':foreach('/Functional':eval('/Functional':applyBinOp('/Functional':applyBinOp('/Functional':applyBinOp('/Functional':applyBinOp('/Functional':applyBinOp('/Functional':applyBinOp('/Functional':applyBinOp('/Functional':applyBinOp('/Functional':applyBinOp('/Functional':applyBinOp('/Functional':const(HTTP),'/Functional':concat,'/Functional':const(!'://')),'/Functional':concat,'/Functional':const(Domain)),'/Functional':concat,'/Functional':const(! (/))),'/Functional':concat,'/Functional':const(Path)),'/Functional':concat,'/Functional':const(! (?))),'/Functional':concat,'/Functional':const(Query)),'/Functional':concat,'/Functional':const(!'#show=')),'/Functional':concat,'/Functional':const('/javascript/jsLogic':jsExpr('/javascript':arrayElement('/javascript/jsLogic':inlineTerm(Model::'/javascript/jsLogic':jsExpr),'/javascript':str(!':name'))))),'/Functional':concat,'/Functional':const(!'#')),'/Functional':concat,'/Functional':const(Role)),'/bootstrap':string,URL),'/javascript/jsLogic':jsCommand(['/javascript':exprStatement('/javascript':call('/javascript':dot('/javascript':varExpr('/cedalionWeb/url':window),!prompt),['/javascript':str(!'Copy this URL'),'/javascript/jsLogic':inlineTerm(URL::'/bootstrap':string)]))])))]))).
'/workbench/projectionalEditing':defKeyboardCommand('/workbench/projectionalEditing':alt('/workbench/projectionalEditing':f(3)),'/workbench/projectionalEditing':defaultMap,Role,displayURL(Role)).
'/bootstrap':defAtom(showURLFeatures::'/bootstrap':set('/workbench/projectionalEditing':feature)).
'/bootstrap':setDef(showURLFeatures,'/bootstrap':listSet(annotation:changeMode(['/workbench/projectionalEditing':keyboardShortcuts('/workbench/projectionalEditing':defaultMap),'/workbench/projectionalEditing':selectable,crossFrameComm],'/bootstrap':vert)),'/workbench/projectionalEditing':feature).
'/javascript/jsLogic':procedure('/cedalionWeb/url':app(!show,Str),'/javascript/jsLogic':jsCommand(['/javascript/jsLogic':runProcedure('/javascript/asyncproc':andThen('/javascript/statepred':'for (s)'('/javascript/statepred':conj('/javascript/statepred':pred(('/cedalionWeb/parsing':parseString('/cedalionWeb/parsing':follow('/cedalionWeb/parsing':follow('/cedalionWeb/parsing':bind('/cedalionWeb/parsing':repeatMax('/cedalionWeb/parsing':not(!'#')),NameCodes),'/cedalionWeb/parsing':char(!'#')),'/cedalionWeb/parsing':bind('/cedalionWeb/parsing':repeat('/cedalionWeb/parsing':not(!'')),RoleCodes)),Str),builtin:charCodes(Name,NameCodes),builtin:charCodes(Role,RoleCodes))),modelForName(couchdbMS('/workbench/projectionalEditing':editorContent),Name,Model,'/workbench/projectionalEditing':editorContent)),'/javascript/jsLogic':jsCommand(['/javascript/jsLogic':runProcedure('/cedalionWeb/jquery':openPage('/workbench/projectionalEditing':editor(Model,Role,showURLFeatures,!'NONE')))])),'/javascript/jsLogic':do('/javascript/jsLogic':jsCommand([]))))])).
'/bootstrap':defAtom(crossFrameComm::'/workbench/projectionalEditing':feature).
'/javascript/jsLogic':procedure('/workbench/projectionalEditing':activateFeature(Editor,crossFrameComm),'/javascript/jsLogic':jsCommand(['/javascript':exprStatement('/javascript':call('/javascript':dot('/javascript':varExpr('/cedalionWeb/url':window),!setInterval),['/javascript':function([],['/javascript':exprStatement('/javascript':call('/javascript':dot('/javascript':dot('/javascript':varExpr('/cedalionWeb/url':window),!parent),!postMessage),['/javascript':call('/javascript':dot('/javascript':varExpr('/javascript/jsLogic':'JSON'),!stringify),['/javascript':json(annotation:changeMode(['/javascript':bind('/javascript':str(!type),'/javascript':str(!resize)),'/javascript':bind('/javascript':str(!width),'/javascript':dot('/javascript':dot('/javascript':dot('/javascript':varExpr('/cedalionWeb/url':window),!document),!body),!scrollWidth)),'/javascript':bind('/javascript':str(!height),'/javascript':dot('/javascript':dot('/javascript':dot('/javascript':varExpr('/cedalionWeb/url':window),!document),!body),!scrollHeight))],'/bootstrap':vert))]),'/javascript':str(! (*))]))]),'/javascript':const(1000)])),'/javascript/jsLogic':runProcedure('/cedalionWeb/jquery':on('/javascript/jsLogic':jsExpr('/javascript':call('/javascript':varExpr('/javascript/jsLogic':jQuery),['/javascript':varExpr('/cedalionWeb/url':window)])),!message,Ev,'/javascript/jsLogic':jsCommand(['/javascript':var(Msg,'/javascript':call('/javascript':dot('/javascript':varExpr('/javascript/jsLogic':'JSON'),!parse),['/javascript':dot('/javascript':dot('/javascript/jsLogic':inlineTerm(Ev::'/javascript/jsLogic':jsExpr),!originalEvent),!data)])),'/javascript/jsLogic':runProcedure(handleCrossFrameMessage('/javascript/jsLogic':jsExpr('/javascript':dot('/javascript':varExpr(Msg),!type)),'/javascript/jsLogic':jsExpr('/javascript':varExpr(Msg))))])))])).
'/javascript/jsLogic':procedure('/workbench/projectionalEditing':bindFeature(crossFrameComm,Elem),'/javascript/jsLogic':jsCommand(['/javascript/jsLogic':runProcedure('/cedalionWeb/jquery':on(Elem,!selected,'/javascript/jsLogic':jsCommand(['/javascript':exprStatement('/javascript':call('/javascript':dot('/javascript':dot('/javascript':varExpr('/cedalionWeb/url':window),!parent),!postMessage),['/javascript':call('/javascript':dot('/javascript':varExpr('/javascript/jsLogic':'JSON'),!stringify),['/javascript':json(annotation:changeMode(['/javascript':bind('/javascript':str(!type),'/javascript':str(!selected)),'/javascript':bind('/javascript':str(!id),'/javascript':call('/javascript':dot('/javascript/jsLogic':inlineTerm(Elem::'/cedalionWeb/visualization':jQueryElem),!attr),['/javascript':str(!ced_role)]))],'/bootstrap':vert))]),'/javascript':str(! (*))]))])))])).
'/bootstrap':signature(handleCrossFrameMessage(Type,Msg)::'/javascript/jsLogic':procedure,[Type::'/bootstrap':string,Msg::'/javascript/jsLogic':jsExpr]).
'/javascript/jsLogic':procedure(handleCrossFrameMessage(!annotate,Msg),'/javascript/jsLogic':jsCommand(['/javascript':var(Elem,'/javascript':call('/javascript':varExpr('/javascript/jsLogic':jQuery),['/javascript':op('/javascript':op('/javascript':str(!'[ced_role="'),'/javascript':plus,'/javascript':dot('/javascript/jsLogic':inlineTerm(Msg::'/javascript/jsLogic':jsExpr),!id)),'/javascript':plus,'/javascript':str(!'"]'))])),'/javascript':exprStatement('/javascript':call('/javascript':dot('/javascript':call('/javascript':dot('/javascript':varExpr(Elem),!children),['/javascript':str(!'.annotation-text')]),!remove),[])),'/javascript/jsLogic':runProcedure('/cedalionWeb/jquery':prependTo('/javascript/jsLogic':jsExpr('/javascript':varExpr(Elem)),'/cedalionWeb/xml':'elem2'('/Functional':const(!div),['/cedalionWeb/xml':'attr2'('/Functional':const(!class),'/Functional':const(!'annotation-text')),'/cedalionWeb/xml':'attr2'('/Functional':const(!style),'/Functional':const('/javascript/jsLogic':jsExpr('/javascript':dot('/javascript/jsLogic':inlineTerm(Msg::'/javascript/jsLogic':jsExpr),!textStyle))))],'/cedalionWeb/xml':str('/javascript/jsLogic':jsExpr('/javascript':dot('/javascript/jsLogic':inlineTerm(Msg::'/javascript/jsLogic':jsExpr),!text)))))),'/javascript':exprStatement('/javascript':call('/javascript':dot('/javascript':call('/javascript':dot('/javascript':call('/javascript':dot('/javascript':varExpr(Elem),!parent),['/javascript':str(!'.annotation-border')]),!addClass),['/javascript':str(!'to-be-removed')]),!before),['/javascript':varExpr(Elem)])),'/javascript/jsLogic':runProcedure('/cedalionWeb/jquery':modifyElement(!wrap,'/javascript/jsLogic':jsExpr('/javascript':varExpr(Elem)),'/cedalionWeb/xml':'elem2'('/Functional':const(!div),['/cedalionWeb/xml':'attr2'('/Functional':const(!class),'/Functional':const(!'annotation-border')),'/cedalionWeb/xml':'attr2'('/Functional':const(!style),'/Functional':const('/javascript/jsLogic':jsExpr('/javascript':dot('/javascript/jsLogic':inlineTerm(Msg::'/javascript/jsLogic':jsExpr),!borderStyle))))],'/cedalionWeb/xml':empty))),'/javascript':exprStatement('/javascript':call('/javascript':dot('/javascript':call('/javascript':varExpr('/javascript/jsLogic':jQuery),['/javascript':str(!'.to-be-removed')]),!remove),[]))])).
